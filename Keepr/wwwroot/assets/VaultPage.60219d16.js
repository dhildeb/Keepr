import{r as t,c as a,l as e,p as s,e as i,j as l,u as d,d as n,o as p,a as u,b as c,k as o,t as r,h as m,B as v,w as k,F as y,m as f,f as b}from"./vendor.822fba46.js";import{v as D,b as h,A as x}from"./index.a092ff3f.js";const g={name:"Vault",setup(){const s=l(),i=t({keeps:a((()=>x.keeps)),vault:a((()=>x.ActiveVault)),account:a((()=>x.account)),editD:!1,editN:!1,vaultData:{}});return e((async()=>{const t=d();await D.getById(s.params.id)&&t.push({name:"Home"}),await h.getKeepsByVaultId(s.params.id)})),{state:i,edit(){i.editN=!1,i.editD=!1,D.update(i.vaultData,s.params.id),i.vaultData={}}}}},V=b();s("data-v-f0e4f0ba");const w={class:"container"},I={class:"row flex-column p-3"},N={class:"d-flex justify-content-center"},j={key:0},C={key:1},K={key:2},B={class:"input-group"},A={key:3},E={class:"d-flex"},U={key:0},_={key:1},F={key:2},H={class:"masonry-with-columns mt-5 px-2"};i();const M=V(((t,a,e,s,i,l)=>{const d=n("Keep"),b=n("KeepModal");return p(),u(y,null,[c("div",w,[c("div",I,[c("div",N,[s.state.vault.isPrivate?(p(),u("small",j,"private")):o("",!0),s.state.editN?(p(),u("h1",K,[c("div",B,[m(c("input",{type:"text",placeholder:s.state.vault.name,"onUpdate:modelValue":a[1]||(a[1]=t=>s.state.vaultData.name=t)},null,8,["placeholder"]),[[v,s.state.vaultData.name]]),c("button",{class:"btn btn-primary input-group-append",onClick:a[2]||(a[2]=(...t)=>s.edit&&s.edit(...t))}," submit ")])])):(p(),u("h1",C,r(s.state.vault.name),1)),s.state.account.id===s.state.vault.creatorId?(p(),u("p",A,[c("i",{class:"mdi mdi-pencil click ml-3",title:"Edit Vault",onClick:a[3]||(a[3]=t=>s.state.editN=!s.state.editN)})])):o("",!0)]),c("div",E,[!1===s.state.editD?(p(),u("h2",U,r(s.state.vault.description),1)):(p(),u("h2",_,[c("div",{class:"input-group",onSubmit:a[6]||(a[6]=k(((...a)=>t.editD&&t.editD(...a)),["prevent"]))},[m(c("input",{type:"text",placeholder:s.state.vault.description,"onUpdate:modelValue":a[4]||(a[4]=t=>s.state.vaultData.description=t)},null,8,["placeholder"]),[[v,s.state.vaultData.description]]),c("button",{class:"btn btn-primary input-group-append",type:"submit",onClick:a[5]||(a[5]=(...t)=>s.edit&&s.edit(...t))}," submit ")],32)])),s.state.account.id===s.state.vault.creatorId?(p(),u("p",F,[c("i",{class:"mdi mdi-pencil click ml-3",title:"Edit Vault",onClick:a[7]||(a[7]=t=>s.state.editD=!s.state.editD)})])):o("",!0)]),c("p",null," Keeps: "+r(s.state.keeps.length),1)]),c("div",H,[(p(!0),u(y,null,f(s.state.keeps,(t=>(p(),u(d,{key:t.id,keep:t},null,8,["keep"])))),128))])]),c(b)],64)}));g.render=M,g.__scopeId="data-v-f0e4f0ba";export default g;
